<template>
  <lightning-card lwc:ref="card" class="slds-is-relative" title={computedTitleText}>
    <div class="slds-is-relative slds-p-horizontal_small">

      <template lwc:if={objectInfo}>
        <div lwc:if={hasTableRows} class="table-wrapper slds-p-bottom_small" style={tableStyles}>
          <lightning-datatable data-testid="datatable" columns={tableColumns} data={tableRows} key-field="Id"
                               is-loading={isLoadMoreLoading} enable-infinite-loading={isInfiniteLoadingEnabled}
                               min-column-width="90" hide-checkbox-column
                               onloadmore={loadMoreHandler}></lightning-datatable>
        </div>
        <div lwc:else data-testid="not-found-message">
          {labels.RecordsNotFound}
        </div>
      </template>

      <div lwc:else data-testid="set-config-message">
        {labels.SetConfiguration}
      </div>

      <lightning-spinner if:true={isLoading} variant="brand" size="small"></lightning-spinner>
    </div>
  </lightning-card>
</template>